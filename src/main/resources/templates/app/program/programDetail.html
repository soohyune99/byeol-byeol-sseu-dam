<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë³„ë³„ì“°ë‹´ | ì“°ë‹´í•™êµ</title>
    <link rel="stylesheet" href="/css/fix/font.css">
    <link rel="stylesheet" href="/css/Program/programDetail.css">
    <link rel="stylesheet" href="/css/fix/header68.css">
    <link rel="stylesheet" href="/css/fix/header74.css">
    <link rel="stylesheet" href="/css/fix/header51.css">
    <link rel="stylesheet" href="/css/fix/header76.css">
    <link rel="stylesheet" href="/css/fix/header77.css">
    <link rel="stylesheet" href="/css/fix/header37.css">
    <link rel="stylesheet" href="/css/fix/footer1.css">
    <link rel="stylesheet" href="/css/fix/footer2.css">
    <link rel="icon" href="/images/fix/favicon.png">
</head>

<body>

<!-- ë¡œê·¸ì¸ í™•ì¸ ëª¨ë‹¬ì°½ -->
<div class="swal2-container swal2-center sg-swal swal2-shown" style="overflow-y: auto;">
    <div aria-labelledby="swal2-title" aria-describedby="swal2-content" class="swal2-popup swal2-modal swal2-show"
         tabindex="-1" role="dialog" aria-live="assertive" aria-modal="true" style="width: 320px; display: flex; border-radius: 10px;">
        <div class="swal2-header">
            <ul class="swal2-progress-steps" style="display: none;"></ul>
            <div class="swal2-icon swal2-error" style="display: none;"><span class="swal2-x-mark"><span
                    class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>
            </div>
            <div class="swal2-icon swal2-question" style="display: none;"></div>
            <div class="swal2-icon swal2-warning" style="display: none;"></div>
            <div class="swal2-icon swal2-info" style="display: none;"></div>
            <div class="swal2-icon swal2-success" style="display: none;">
                <div class="swal2-success-circular-line-left"></div>
                <span class="swal2-success-line-tip"></span>
                <span class="swal2-success-line-long"></span>
                <div class="swal2-success-ring"></div>
                <div class="swal2-success-fix"></div>
                <div class="swal2-success-circular-line-right"></div>
            </div>
            <img class="swal2-image" style="display: none;">
            <h2 class="swal2-title" id="swal2-title" style="display: flex;">ë¡œê·¸ì¸ í•„ìš”</h2>
            <button type="button" class="swal2-close" aria-label="Close this dialog" style="display: none;">Ã—
            </button>
        </div>
        <div class="swal2-content">
            <div id="swal2-content" style="display: block;">ë¡œê·¸ì¸ í›„ ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
            <input class="swal2-input" style="display: none;"><input type="file" class="swal2-file"
                                                                     style="display: none;">
            <div class="swal2-range" style="display: none;"><input type="range">
                <output></output>
            </div>
            <select class="swal2-select" style="display: none;"></select>
            <div class="swal2-radio" style="display: none;"></div>
            <label class="swal2-checkbox" style="display: none;"><input type="checkbox"><span
                    class="swal2-label"></span></label><textarea class="swal2-textarea"
                                                                 style="display: none;"></textarea>
            <div class="swal2-validation-message" id="swal2-validation-message"></div>
        </div>
        <div class="swal2-actions">
            <button type="button" class="swal2-confirm btn" aria-label="" style="display: inline-block;"
                    onclick="goLogin()">ë¡œê·¸ì¸/íšŒì›ê°€ì…
            </button>
            <button type="button" class="swal2-cancel btn" aria-label="" style="display: inline-block;"
                    onclick="history.go(0);">ì·¨ì†Œ
            </button>
        </div>
        <input type="hidden" id="sessionMember" value="">
        <div class="swal2-footer" style="display: none;"></div>
    </div>
</div>


<div>
    <th:block th:if="${session.member == null}">
        <header th:replace="/app/fix/header.html :: header"></header>
    </th:block>
    <th:block th:if="${session.member != null}">
        <header th:replace="/app/fix/headerLogin.html :: header"></header>
    </th:block>

    <div id="app-body">
        <div class="instant-purchase-container">
            <article class="instant-purchase-product-detail no-recent-view" data-v-08563466="">
                <div class="flex-aside left" data-v-08563466="">
                    <div class="observer-container" data-v-e0e63576="" data-v-08563466="">
                        <section class="banner" data-v-e0e63576="" data-v-08563466="">
                            <article data-v-5a004a22="" data-v-08563466="" data-v-e0e63576="">
                                <div class="slick-slider slick-initialized" data-v-3d1a4f76="" data-v-55917fe8=""
                                     data-v-5a004a22="">
                                    <div class="slick-list" data-v-3d1a4f76="">
                                        <div class="slick-track"
                                             style="width: 600px; opacity: 1; transform: translate3d(0px, 0px, 0px);"
                                             data-v-e4caeaf8="" data-v-3d1a4f76="">
                                            <div tabindex="-1" data-index="0" aria-hidden="false"
                                                 class="slick-slide slick-active slick-current"
                                                 style="outline: none; width: 600px;" data-v-e4caeaf8="">
                                                <div data-v-e4caeaf8="">

                                                    <article tabindex="-1" class="preview-image"
                                                             style="width:100%;display:inline-block;" data-v-1a98b297=""
                                                             data-v-5a004a22="" data-v-e4caeaf8="">
                                                        <div class="image-wrap" style=""
                                                             data-v-1a98b297="">
<!--                                                            <img th:src="${program.programFileDetailPath}"-->
<!--                                                                 style="width: 600px;">-->
                                                            <img th:src="${program.programFileDetailName}"
                                                                 style="width: 600px;">.
                                                            <!--                                                            <img src="/images/program/program1-1.png"-->
                                                            <!--                                                                 style="width: 600px;">-->

                                                        </div>
                                                        <!---->
                                                        <!---->
                                                        <!---->
                                                    </article>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!---->
                            </article>
                        </section>

                        <!---->
                        <!---->
                    </div>
                </div>
                <div class="flex-aside right" data-v-08563466="">
                    <div class="product-controller" data-v-08563466="" style="background: #fff;">


                        <!-- program detail start-->
                        <!-- program detail start-->
                        <!-- program detail start-->


                        <section th:object="${program}" class="program detail">

                            <!--                            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
                            <!--                            !!!!!!!!!!!!!!!ë¡œê·¸ì¸ ì™„ë£Œ ë˜ë©´ í™•ì¸í•˜ê¸°!!!!!!!!!!!!!!!-->
                            <!--                            !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
                            <th:block th:if="${session.member != null}">
                                <input type="hidden" class="memberIdSession" th:href="${session.member.memberId}">
                            </th:block>

                            <input type="hidden" class="programId" th:href="*{programId}">


                            <header id="good_header">
                                <div class="view_tit no-margin-top title_font_style "
                                     style="color: #454545; font-size: 16px !important; margin-bottom: 5px;">
                                    <span th:text="*{programName}"></span><br>
                                    <div class="ns-icon inline-blocked clearfix">
                                        <!--                                        <th:block th:if="${#strings.equals(program.programStatus.toString(), 'ëª¨ì§‘ì¤‘')}">-->
                                        <!--                                            <div class="programStatusIcon blueIcon">ëª¨ì§‘ì¤‘</div>-->
                                        <!--                                        </th:block>-->
                                        <!--                                        <th:block th:if="${#strings.equals(program.programStatus.toString(), 'ëª¨ì§‘ì˜ˆì •')}">-->
                                        <!--                                            <div class="programStatusIcon greenIcon">ëª¨ì§‘ì˜ˆì •</div>-->
                                        <!--                                        </th:block>-->
                                        <!--                                        <th:block th:if="${#strings.equals(program.programStatus.toString(), 'ëª¨ì§‘ì™„ë£Œ')}">-->
                                        <!--                                            <div class="programStatusIcon redIcon">ëª¨ì§‘ì™„ë£Œ</div>-->
                                        <!--                                        </th:block>-->
                                        <!--                                        <th:block th:if="${#strings.equals(program.programStatus.toString(), 'ë§ˆê°')}">-->
                                        <!--                                            <div class="programStatusIcon grayIcon">ë§ˆê°</div>-->
                                        <!--                                        </th:block>-->

                                        <div th:if="${#strings.equals(program.programStatus, 'ëª¨ì§‘ì¤‘')}"
                                             class="programStatusIcon blueIcon">ëª¨ì§‘ì¤‘
                                        </div>
                                        <div th:if="${#strings.equals(program.programStatus, 'ëª¨ì§‘ì˜ˆì •')}"
                                             class="programStatusIcon greenIcon">ëª¨ì§‘ì˜ˆì •
                                        </div>
                                        <div th:if="${#strings.equals(program.programStatus, 'ëª¨ì§‘ì™„ë£Œ')}"
                                             class="programStatusIcon redIcon">ëª¨ì§‘ì™„ë£Œ
                                        </div>
                                        <div th:if="${#strings.equals(program.programStatus, 'ë§ˆê°')}"
                                             class="programStatusIcon grayIcon">ë§ˆê°
                                        </div>
                                        <input type="hidden" class="programStatus" th:href="*{programStatus}">
                                    </div>
                                </div>
                            </header>
                            <div class="col-md-6 col-sm-12 col-xs-12  goods_form_wrap" id="scroll">
                                <div class="goods_form" id="prod_goods_form">
                                    <div class="goods_summary body_font_color_70">
                                        <div class="fr-view">
                                            <p th:text="*{programName}" class="black"></p>
                                            <ul style="list-style-type: circle;">
                                                <li>ë‚´ìš© :
                                                    <p th:text="' - '+*{programContent}" class="black"></p>
                                                </li>
                                                <li>ì¼ì‹œ :
                                                    <p th:text="' - '+${#temporals.format(program.programDate, 'yyyyë…„ MMì›” ddì¼ HH:mm')}"
                                                       class="black"></p>
                                                </li>
                                                <li>ì¥ì†Œ :
                                                    <p th:text="' - '+*{programPlace}" class="black"></p>
                                                </li>
                                                <li>ìˆ˜ê°• ê°€ëŠ¥ ì¸ì› :
                                                    <p th:text="' - '+*{programLimitCount}+' ëª…'" class="black"></p>
                                                </li>
                                                <li>ìˆ˜ê°• ì†Œìš” ì‹œê°„ :
                                                    <p th:text="' - '+*{programTime}+' (ì‹œê°„)'" class="black"></p>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <i aria-hidden="true"
                                       class="wish-icon-s20221006e0ef8439338fd im-icon im-ico-like text-18"></i>
                                    </a>
                                </div>
                                <div class="item_detail">
                                    <div class="_item_detail_wrap">
                                        <div class="margin-bottom-xxl">

                                            <!--                                            <div class="option_wrap" style="display: block; font-size:13px;margin-bottom: 10px;">-->
                                            <!--                                                <div class="inline-blocked vertical-middle">-->
                                            <!--                                                    <span class="option_title text-bold">í˜„ì¬ ì‹ ì²­ ì¸ì› ìˆ˜</span>-->
                                            <!--                                                </div>-->
                                            <!--                                                <div class="inline-blocked vertical-middle">-->
                                            <!--                                                    <span class="option_data">22 ëª…</span>-->
                                            <!--                                                </div>-->
                                            <!--                                            </div>-->
                                            <div class="" style="font-size:13px;">
                                                <div class="inline-blocked vertical-middle">
                                                    <span class="option_title text-bold">ëª¨ì§‘ ì‹œì‘ì¼</span>
                                                </div>
                                                <div class="inline-blocked vertical-middle">
                                                    <span th:text="' '+${#temporals.format(program.openingDate, 'yyyyë…„ MMì›” ddì¼ HH:mm')}"
                                                          class="option_data"></span>
                                                </div>
                                            </div>
                                            <div class="" style="font-size:13px;">
                                                <div class="inline-blocked vertical-middle">
                                                    <span class="option_title text-bold">ëª¨ì§‘ ë§ˆê°ì¼</span>
                                                </div>
                                                <div class="inline-blocked vertical-middle">
                                                    <span th:text="' '+${#temporals.format(program.closingDate, 'yyyyë…„ MMì›” ddì¼ HH:mm')}"
                                                          class="option_data"></span>
                                                </div>
                                            </div>
                                        </div>


                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->


                                        <!--                <div id="inputbox">-->
                                        <!--                    -->
                                        <!--                    <div id="margindiv">-->
                                        <!--                        -->
                                        <!--                        <span class="option_title text-bold" style="font-size: 13px;">ì‹œê°„ ì„ íƒ *</span>-->
                                        <!--                    </div>-->
                                        <!--                   -->
                                        <!--                    <form>-->
                                        <!--                        <select name="timeSelect" style="font-size: 14px;-->
                                        <!--                        width: 300px;-->
                                        <!--                        height: 35px;-->
                                        <!--                        margin-bottom: 15px;" >-->
                                        <!--                        -->
                                        <!--                          <option value="none">=== ì„ íƒ ===</option>-->
                                        <!--                          <option value="" selected>ì‹œê°„ ì„ íƒ(í•„ìˆ˜)</option>-->
                                        <!--                          <option value="time">ì˜¤ì „ë°˜ | 10ì›”22ì¼(í† ) 11-13ì‹œ</option>-->
                                        <!--                          <option value="time">ì˜¤í›„ë°˜ | 10ì›”22ì¼(í† ) 15-17ì‹œ</option>-->
                                        <!--                        </select>-->
                                        <!--                      </form>-->
                                        <!--            -->
                                        <!--                        </div>-->


                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->
                                        <!-- select Time -->


                                    </div>
                                </div>
                            </div>


                        </section>


                        <!-- program detail end-->
                        <!-- program detail end-->
                        <!-- program detail end-->

                        <section class="buy-button pb-0" data-v-08563466="">
                            <!---->
                            <div class="sticky-btn-group" data-v-08563466=""><!--<button type="button"
                                    class="btn btn-qna btn-none btn-block" data-v-fa78c050="" data-v-08563466=""><span
                                        data-v-fa78c050="" data-v-08563466="">ë¬¸ì˜</span></button>-->
                                <button
                                        data-testid="purchase-btn" type="button" class="btn btn-buy btn-primary bigBtn"
                                        id="Apply"
                                        data-v-08563466="" style="font-size: 16px" >
                                    ì‹ ì²­í•˜ê¸°
                                </button>
                                <input type="hidden" id="programLimitCount" th:href="${program.programLimitCount}">
                            </div>
                        </section>
                        <img src="/images/program/000program.png" style="margin-top: 10px;border-radius: 12px; width: 100%;">
                        <!--<figure class="guarantee-banner" data-v-4df1822e="" data-v-08563466=""><img alt="ìˆ¨ê³ ë³´ì¦"
                                data-v-4df1822e=""
                                data-src="https://assets.cdn.soomgo.com/images/instant-purchase/img-guarantee-product.svg"
                                src="https://assets.cdn.soomgo.com/images/instant-purchase/img-guarantee-product.svg"
                                lazy="loaded">
                            <figcaption data-v-4df1822e=""><strong data-v-4df1822e="">ì•ˆì‹¬í•˜ì„¸ìš” ìˆ¨ê³ ê°€ ë³´ìƒí•´ë“œë ¤ìš”!</strong>
                                <p data-v-4df1822e="">ìµœëŒ€ 1,000ë§Œ ì›ê¹Œì§€ ë³´ìƒ</p>
                            </figcaption>
                            &lt;!&ndash;&ndash;&gt;
                        </figure>-->
                    </div>
                </div>
                <!---->
                <!---->
                <!---->
                <!-- Modal -->
                <!-- Modal -->
                <!-- Modal -->

                <div class="modal">
                    <div class="modal_content"
                         title="í´ë¦­í•˜ë©´ ì°½ì´ ë‹«í™ë‹ˆë‹¤.">

                        <div style="position: relative;
                         top: 6%;">

                            <div id="modal_title" class="view_tit no-margin-top title_font_style "
                                 style="color: #656565; font-size: 20px !important; margin-bottom: 5px; text-align: center;">
                                ì‹ ì²­ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

                            </div>

                            <div id="__BVID__125___BV_modal_content_" tabindex="-1" class="modal-content">
                                <!--  <div data-v-af4658e8="" class="information-use-box"><p data-v-af4658e8="" class="information-use-content">
                                      <span data-v-af4658e8="" class="emoji">ğŸ”—</span>
                                      <span data-v-af4658e8="" class="text">ì˜ë¦¬ëª©ì ìœ¼ë¡œ ì •ë³´ë¥¼ ê³µìœ í•˜ëŠ” í–‰ìœ„</span></p>
                                      <p data-v-af4658e8="" class="information-use-content"><span data-v-af4658e8="" class="emoji">ğŸ¤¬</span>
                                          <span data-v-af4658e8="" class="text">ìš•ì„¤, ê³¼ë„í•œ ë¹„ë°©ê¸€, ì €ê²©ê¸€, í˜ì˜¤í‘œí˜„</span></p>
                                          <p data-v-af4658e8="" class="information-use-content"><span data-v-af4658e8="" class="emoji">âœ‹</span>
                                              <span data-v-af4658e8="" class="text">ë‹¤ë¥¸ íšŒì›ì˜ ìˆ˜ì—…ì„ ë°©í•´í•˜ëŠ” í–‰ìœ„</span></p>
                                          </div><div data-v-af4658e8="" class="footer-button"></div>&lt;!&ndash;&ndash;&gt;</div>-->


                                <br>

                                <div id="button_Disply" style="display: flex;
                        justify-content: space-evenly;">

                                    <button data-testid="purchase-btn" type="button" class="btn btn-buy btn-primary"
                                            style="background: #00c7ae; border-radius: 0.25rem; "
                                            onclick="insertProgram();">
                                        ì‹ ì²­í•˜ê¸°
                                    </button>

                                    <button data-testid="purchase-btn" type="button" class="btn btn-buy btn-primary"
                                            style="background: #00c7ae; border-radius: 0.25rem;"
                                            onclick="history.go(0);">
                                        ëŒì•„ê°€ê¸°
                                    </button>

                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Modal -->
                    <!-- Modal -->
                    <!-- Modal -->


                    <div class="v-portal" style="display:none;" data-v-08563466=""></div>
                </div>
            </article>
        </div>
    </div>
</div>
<th:block th:if="${session.member != null}">
    <input type="hidden" th:value="${session.member.memberId}" name="memberId">
    <input type="hidden" th:value="${session.member.memberCategory}" name="memberCategory">
    <input type="hidden" th:value="${check}" name="check">
</th:block>
</body>

<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script>
    let memberId = $("input[name='memberId']").val();
    let memberCategory = $("input[name='memberCategory']").val();
    let check = $("input[name='check']").val();
</script>
<script src="/js/Program/programDetail.js"></script>
<script src="/js/fix/headerLogin.js"></script>
<script>
    let programMemberCount = [[${program.programMemberCount}]];
    let programLimitCount = [[${program.programLimitCount}]];
    // let check = [[${check}]]; // ì‹ ì²­ê°€ëŠ¥/ ë¶ˆê°€ (model ê°ì²´ ì‚¬ìš©) ìœ„ì— ì‚¬ìš©

    /* ProgramDetail-ì‹ ì²­í•˜ê¸° -> ProgramDetail-Modal ì‹ ì²­í•˜ê¸° í´ë¦­ì‹œ */
    function insertProgram() {
        let memberId = $('.memberIdSession').attr('href');
        let programId = $('.programId').attr('href');
        let programStatus = $(".programStatus").attr('href');
        // alert(check);
        // alert(memberId);
        // console.log(memberId);
        if (memberId == undefined || check == undefined) {
            // ë¡œê·¸ì¸ í•„ìš” ëª¨ë‹¬ì°½ ë„ìš°ê¸°
            $('.swal2-container').css('display', 'block').fadeIn();
        } else if(programStatus == 'ë§ˆê°') {
            alert("ì´ë¯¸ ë§ˆê°ëœ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.")
        } else if(programStatus == 'ëª¨ì§‘ì˜ˆì •'){
            alert("ëª¨ì§‘ ì˜ˆì • í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.")
        } else if(check == 'false'){ /*ë¬¸ìì—´ë¡œ ì¸ì‹*/
            alert("ì´ë¯¸ ì‹ ì²­í•œ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.")
        } else if(programMemberCount == programLimitCount){
            alert("ëª¨ì§‘ ì¸ì›ì´ ê°€ë“ì°¬ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.")
        } else {
            // ì‹ ì²­í•˜ê¸° ëˆŒë €ì„ ë•Œ memberIdê°€ ìˆë‹¤ë©´(ë¡œê·¸ì¸ì´ ë˜ì–´ìˆë‹¤ë©´?) ê²½ë¡œë¡œ ë³´ë‚´ì¤Œ
            location.href = "/program/saveMember" + "?programId=" + programId + "&memberId=" + memberId;
        }
    }

    /* ë¡œê·¸ì¸ì´ ì•ˆë˜ì–´ìˆì„ ê²½ìš° _ ë¡œê·¸ì¸/íšŒì›ê°€ì… ì°½ìœ¼ë¡œ ê°€ê¸° */
    function goLogin() {
        location.href = "/login/login";
    }


</script>

</html>